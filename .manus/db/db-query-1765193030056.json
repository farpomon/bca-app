{
  "query": "CREATE TABLE IF NOT EXISTS report_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  type ENUM('executive_summary', 'detailed_assessment', 'financial_analysis', 'compliance', 'risk_assessment', 'optimization_results', 'custom') NOT NULL,\n  stakeholder VARCHAR(100),\n  isGlobal BOOLEAN NOT NULL DEFAULT FALSE,\n  userId INT,\n  projectId INT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_type (type),\n  INDEX idx_isGlobal (isGlobal),\n  INDEX idx_projectId (projectId)\n);\n\nCREATE TABLE IF NOT EXISTS report_sections (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  templateId INT NOT NULL,\n  sectionType ENUM('cover_page', 'executive_summary', 'condition_summary', 'cost_tables', 'deficiencies_list', 'photo_gallery', 'risk_assessment', 'optimization_results', 'prioritization_rankings', 'component_details', 'ci_fci_trends', 'cash_flow_projections', 'custom_text') NOT NULL,\n  title VARCHAR(255),\n  orderIndex INT NOT NULL,\n  isEnabled BOOLEAN NOT NULL DEFAULT TRUE,\n  layoutOptions JSON,\n  contentOptions JSON,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_templateId (templateId),\n  INDEX idx_orderIndex (orderIndex)\n);\n\nCREATE TABLE IF NOT EXISTS report_configurations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  templateId INT NOT NULL UNIQUE,\n  logoUrl VARCHAR(500),\n  headerText TEXT,\n  footerText TEXT,\n  colorScheme JSON,\n  fontOptions JSON,\n  pageOptions JSON,\n  coverPageOptions JSON,\n  tableOfContents BOOLEAN NOT NULL DEFAULT TRUE,\n  disclaimerText TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS report_history (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  projectId INT NOT NULL,\n  templateId INT NOT NULL,\n  userId INT NOT NULL,\n  format ENUM('pdf', 'excel', 'word', 'html') NOT NULL,\n  fileName VARCHAR(255) NOT NULL,\n  fileUrl VARCHAR(500),\n  fileSize INT,\n  status ENUM('generating', 'completed', 'failed') NOT NULL DEFAULT 'generating',\n  errorMessage TEXT,\n  generatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_projectId (projectId),\n  INDEX idx_userId (userId),\n  INDEX idx_status (status)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2g8chP3aro94bni.root --database XnmtZZwX6e46H8JVZbq4Ta --execute CREATE TABLE IF NOT EXISTS report_templates (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(255) NOT NULL,\n  description TEXT,\n  type ENUM('executive_summary', 'detailed_assessment', 'financial_analysis', 'compliance', 'risk_assessment', 'optimization_results', 'custom') NOT NULL,\n  stakeholder VARCHAR(100),\n  isGlobal BOOLEAN NOT NULL DEFAULT FALSE,\n  userId INT,\n  projectId INT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_type (type),\n  INDEX idx_isGlobal (isGlobal),\n  INDEX idx_projectId (projectId)\n);\n\nCREATE TABLE IF NOT EXISTS report_sections (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  templateId INT NOT NULL,\n  sectionType ENUM('cover_page', 'executive_summary', 'condition_summary', 'cost_tables', 'deficiencies_list', 'photo_gallery', 'risk_assessment', 'optimization_results', 'prioritization_rankings', 'component_details', 'ci_fci_trends', 'cash_flow_projections', 'custom_text') NOT NULL,\n  title VARCHAR(255),\n  orderIndex INT NOT NULL,\n  isEnabled BOOLEAN NOT NULL DEFAULT TRUE,\n  layoutOptions JSON,\n  contentOptions JSON,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_templateId (templateId),\n  INDEX idx_orderIndex (orderIndex)\n);\n\nCREATE TABLE IF NOT EXISTS report_configurations (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  templateId INT NOT NULL UNIQUE,\n  logoUrl VARCHAR(500),\n  headerText TEXT,\n  footerText TEXT,\n  colorScheme JSON,\n  fontOptions JSON,\n  pageOptions JSON,\n  coverPageOptions JSON,\n  tableOfContents BOOLEAN NOT NULL DEFAULT TRUE,\n  disclaimerText TEXT,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS report_history (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  projectId INT NOT NULL,\n  templateId INT NOT NULL,\n  userId INT NOT NULL,\n  format ENUM('pdf', 'excel', 'word', 'html') NOT NULL,\n  fileName VARCHAR(255) NOT NULL,\n  fileUrl VARCHAR(500),\n  fileSize INT,\n  status ENUM('generating', 'completed', 'failed') NOT NULL DEFAULT 'generating',\n  errorMessage TEXT,\n  generatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  INDEX idx_projectId (projectId),\n  INDEX idx_userId (userId),\n  INDEX idx_status (status)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2007
}